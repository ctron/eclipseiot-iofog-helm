apiVersion: iofog.org/v3
kind: ControlPlane
metadata:
  name: iofog
spec:
  user:
    name: {{ .Values.controlPlane.user.firstName }}
    surname: {{ .Values.controlPlane.user.surname }}
    email: {{ .Values.controlPlane.user.email }}
    password: {{ .Values.controlPlane.user.password | b64enc }}
  database:
    provider: {{ .Values.controlPlane.database.provider }}
    host: {{ .Values.controlPlane.database.host }}
    port: {{ .Values.controlPlane.database.port }}
    user: {{ .Values.controlPlane.database.user }}
    password: {{ .Values.controlPlane.database.password }}
    databaseName: {{ .Values.controlPlane.database.dbName }}
  replicas:
    controller: {{ .Values.controlPlane.controller.replicas }}
  images:
    controller: {{ .Values.controlPlane.controller.image }}
    proxy: {{ .Values.controlPlane.proxyImage }}
    router: {{ .Values.controlPlane.routerImage }}
    portManager: {{ .Values.controlPlane.portManagerImage }}
  services:
    controller:
      type: {{ .Values.controlPlane.serviceType }}
      address: {{ .Values.controlPlane.loadBalancerIp }}
    router:
      type: {{ .Values.controlPlane.serviceType }}
    proxy:
      type: {{ .Values.controlPlane.serviceType }}
  controller:
    pidBaseDir: {{ .Values.controlPlane.controller.pidBaseDir }}
    ecnViewerPort: {{ .Values.controlPlane.controller.ecnViewerPort }}
